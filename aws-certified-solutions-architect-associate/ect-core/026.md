# Elastic Network Interfaces (ENIs)

- You can specify exatly which IP address in the subnet to be configured on your instances, or leave AWS assign one automatically from the available subnet IPs

- **Security groups apply to network interfaces** not to individual IPs on the interface, hence, IP addresses are also subject to the interface security group

- By default, network interfaces created "automatically" during EC2 instance launch by AWS console, are terminated when the instance is terminated

  - Does not include eth1 that you can add during launch (manually added)

- Network interfaces created by CLI are **NOT terminated** automatically when the EC2 instance terminates

- In both cases above, you can change the default behavior by changing the "termintion behavior"

## Default EC2 virtual network interface (eth0)

- You can create (optional) **only one** additional Ethernet Interface (eth1) when launching an EC2 instance, but you can create and attach more ENIs to the EC2 instance (the number of which depends on the Instance family/type)

- Attaching ENI when the instance is running is called "**hot attach**"

- Attaching ENI when the instance is stopped is called "**warm attach**"

- Attaching ENI when the instance is launched is called "**cold attach**"

## How multiple IP addresses work with Network Interfaces

- `Eth0` is the primare network interface
  - You can't move/detach the primary (eth0) interface from an instance

- By default, `eth0` is the only ENI created with an EC2 instance when launched

- You can add more interfaces to your EC2 instances (number of additional interfaces is determined by the instance family/type)

- An ENI is bound to an Availability Zone

- You can specify which subnet/AZ you want the additional ENI be added in

## How to add additional Network Interfaces at Instance Launch

- When launching an EC2 instance, after selectin your VPC and subnet, you will be able to "add a device", this is how you can add one more (eth1) interface
  - If you do this, AWS will no longer assign a public IPv4 address to your eth0 (primary network interface), and you will have to use an Elastic IP addresss mapped to your eth0 (manually) in order to be able to connect from the internet to your instance

## [Goback...](./index.md)